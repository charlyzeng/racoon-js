!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).racoon={})}(this,(function(t){"use strict";function e(t,r){return(e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,r)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function n(t,i,u){return(n=r()?Reflect.construct:function(t,r,n){var i=[null];i.push.apply(i,r);var u=new(Function.bind.apply(t,i));return n&&e(u,n.prototype),u}).apply(null,arguments)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),t}function c(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&e(t,r)}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l={number:"number",string:"string",boolean:"boolean",object:"object",array:"array",any:"any"},h=Symbol("#useKeyChainSymbol");function y(t,e,r){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(r):i.value}})(t,e,r||t)}function v(t){var r="function"==typeof Map?new Map:void 0;return(v=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,u)}function u(){return n(t,arguments,f(this).constructor)}return u.prototype=Object.create(t.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),e(u,t)})(t)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var d=function(t){c(r,t);var e=p(r);function r(t){var n,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,r),(n=e.call(this,t)).custom=!1,n.final=!1;var o=u.custom,c=void 0!==o&&o,a=u.final,s=void 0!==a&&a;return n.custom=c,n.final=s,n}return o(r,[{key:"toString",value:function(){return"Validate".concat(y(f(r.prototype),"toString",this).call(this))}}]),r}(v(Error)),R=Object.prototype.toString;function g(t){var e=R.call(t);return e.substring(8,e.length-1)}function m(t){return t!=t}function w(t){return"string"==typeof t}function b(t){return"number"==typeof t}function k(t){return"Object"===g(t)}function x(t){return function(t){return void 0===t}(t)||function(t){return null===t}(t)}function E(t){var e=g(t);return"Object"===e?0===Object.keys(t).length:"Array"===e?0===t.length:x(t)||m(t)||""===t}function D(t){return"Function"===g(t)}function S(t){return t instanceof d&&t.custom}var A=function(){function t(){i(this,t),this.errorConfig={ctx:null,message:""}}return o(t,[{key:"setErrorMessage",value:function(t,e){this.errorConfig={ctx:e,message:t}}},{key:"getError",value:function(t){var e=this.errorConfig,r=e.message,n=e.ctx;return D(r)?new d(r.call(n,t),{custom:!0}):r&&w(r)?new d(r,{custom:!0}):new d(t)}}]),t}();function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var O=function(t){c(r,t);var e=P(r);function r(){return i(this,r),e.apply(this,arguments)}return o(r,[{key:"validate",value:function(){return!0}}]),r}(A);function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var j=function(t){c(r,t);var e=N(r);function r(t){var n;return i(this,r),(n=e.call(this)).strict=!1,n.strict=!0===t,n}return o(r,[{key:"validate",value:function(t){var e=this.strict;if(!e&&(x(t)||m(t)))throw this.getError("value is required and should not be undefined/null/NaN");if(!0===e&&E(t))throw this.getError("value is required and should not be empty")}}]),r}(A);function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var C=function(t){c(r,t);var e=q(r);function r(){var t;i(this,r),(t=e.call(this)).enumValues=null;for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];if(0===u.length)throw new RangeError("enum arguments should not be empty");return t.enumValues=u,t}return o(r,[{key:"validate",value:function(t){if(-1===this.enumValues.indexOf(t))throw this.getError("value should be one of ".concat(JSON.stringify(this.enumValues)))}}]),r}(A);function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var T=function(t){c(r,t);var e=I(r);function r(t){var n;return i(this,r),(n=e.call(this)).strict=!1,n.strict=!0===t,n}return o(r,[{key:"validate",value:function(t){var e=this.strict;if(e&&E(t))throw this.getError("value is required and should not be empty");if(!e&&x(t))throw this.getError("value is required and should not be undefined/null")}}]),r}(A);function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var F=function(t){c(r,t);var e=V(r);function r(t,n){var u;if(i(this,r),(u=e.call(this)).ctx=null,u.restrictFn=null,!1===D(t))throw new TypeError("`restrictFn` should be a type of function");return u.restrictFn=t,u.ctx=n,u}return o(r,[{key:"validate",value:function(t){try{var e=this.restrictFn.call(this.ctx,t);if(w(e)&&e)throw this.getError(e)}catch(t){throw this.getError(t.message)}return!0}}]),r}(A),_=function(){function t(){i(this,t),this.restricts=[],this.typeRestrict=null,this.requiredRestrict=null,this.lastRestrict=null,this.defaultConfig={enable:!1,strict:!1,ctx:null,value:void 0},this.formatterConfig={ctx:void 0,formatter:function(t){return t}},this.errorForAllConfig={enable:!1,ctx:void 0,message:""}}return o(t,[{key:"validate",value:function(t){if(!this.requiredRestrict&&x(t))return this.getReturnValue(t);try{return this.checkType(t),this.checkRequired(t),this.checkRestricts(t),this.getReturnValue(t)}catch(t){if(S(t))throw t;var e=this.getErrorForAll(t.message);if(e)throw e;throw t}}},{key:"validateSilent",value:function(t){try{return{value:this.validate(t)}}catch(e){return{error:e,value:t}}}},{key:"required",value:function(t){return this.requiredRestrict=new T(t),this.lastRestrict=this.requiredRestrict,this}},{key:"custom",value:function(t,e){var r=new F(t,e);return this.restricts.push(r),this.lastRestrict=r,this}},{key:"error",value:function(t,e){return this.ensureMessageType(t),this.lastRestrict.setErrorMessage(t,e),this}},{key:"errorForAll",value:function(t,e){return this.ensureMessageType(t),this.errorForAllConfig={enable:!0,message:t,ctx:e},this}},{key:"default",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw new Error("default arguments should not be empty");var n=e[0],i=e[1],u=e[2];return this.defaultConfig={ctx:u,value:n,enable:!0,strict:!0===i},this}},{key:"format",value:function(t,e){if("function"!=typeof t)throw new TypeError("`formatter` should be a type of function");return this.formatterConfig={ctx:e,formatter:t},this}},{key:"getReturnValue",value:function(t){var e=this.defaultConfig,r=e.enable,n=e.strict,i=this.formatterConfig,u=i.formatter,o=i.ctx;return r&&n&&E(t)?u.call(o,this.getDefaultReturnValue(t)):this.getReturnValueWithoutStrict(t)}},{key:"getDefaultReturnValue",value:function(t){var e=this.defaultConfig,r=e.value,n=e.ctx;return"function"==typeof r?r.call(n,t):r}},{key:"getErrorForAll",value:function(t){var e=this.errorForAllConfig,r=e.ctx,n=e.enable,i=e.message;return!0!==n?null:D(i)?new d(i.call(r,t)):new d(i)}},{key:"checkType",value:function(t){return this.typeRestrict.validate(t)}},{key:"checkRequired",value:function(t){return!this.requiredRestrict||this.requiredRestrict.validate(t)}},{key:"checkRestricts",value:function(t){return this.restricts.forEach((function(e){e.validate(t)})),!0}},{key:"throwErrorWithoutKeyChainIfNeeded",value:function(t){if(function(t){return t instanceof d&&t.final}(t))throw t;if(S(t))throw new d(t.message,{final:!0})}},{key:"ensureMessageType",value:function(t){if(!w(t)&&!D(t))throw new TypeError("`message` should be a type of string or function")}},{key:"getReturnValueWithoutStrict",value:function(t){var e=this.defaultConfig.enable,r=this.formatterConfig,n=r.formatter,i=r.ctx,u=t;return e&&(x(t)||m(t))&&(u=this.getDefaultReturnValue(t)),n.call(i,u)}}]),t}();function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var U=function(t){c(r,t);var e=M(r);function r(){var t;return i(this,r),(t=e.call(this)).type=l.any,t.typeRestrict=new O,t.lastRestrict=t.typeRestrict,t}return o(r,[{key:"required",value:function(t){return this.requiredRestrict=new j(t),this.lastRestrict=this.requiredRestrict,this}},{key:"enum",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=n(C,e);return this.restricts.push(i),this.lastRestrict=i,this}}]),r}(_);function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var K=function(t){c(r,t);var e=W(r);function r(){var t;i(this,r);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return(t=e.call.apply(e,[this].concat(u))).isAllowNaN=!1,t.isAllowInfinity=!1,t}return o(r,[{key:"enableAllowNaN",value:function(){this.isAllowNaN=!0}},{key:"enableAllowInfinity",value:function(){this.isAllowInfinity=!0}},{key:"validate",value:function(t){var e=this.isAllowNaN,r=this.isAllowInfinity;if(m(t)&&!e)throw this.getError("value is not allowed to be NaN");if(function(t){return t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY}(t)&&!r)throw this.getError("value is not allowed to be Infinity");if(!b(t)&&!x(t))throw this.getError("value should be a type of number")}}]),r}(A);function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var $=function(t){c(r,t);var e=B(r);function r(){return i(this,r),e.apply(this,arguments)}return o(r,[{key:"validate",value:function(t){if(x(t))throw this.getError("value is required and should not be undefined/null");if(m(t))throw this.getError("value is required and should not be NaN")}}]),r}(A);function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var Y=function(t){c(r,t);var e=z(r);function r(t,n){var u;if(i(this,r),u=e.call(this),!1===b(t))throw new TypeError("`max` should be a type of number");return u.max=t,u.closed=!1!==n,u}return o(r,[{key:"validate",value:function(t){if(this.closed&&t>this.max)throw this.getError("value should be less than or equal to ".concat(this.max));if(!this.closed&&t>=this.max)throw this.getError("value should be less than ".concat(this.max))}}]),r}(A);function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var J=function(t){c(r,t);var e=G(r);function r(t,n){var u;if(i(this,r),u=e.call(this),!1===b(t))throw new TypeError("`min` should be a type of number");return u.min=t,u.closed=!1!==n,u}return o(r,[{key:"validate",value:function(t){if(this.closed&&t<this.min)throw this.getError("value should be greater than or equal to ".concat(this.min));if(!this.closed&&t<=this.min)throw this.getError("value should be greater than ".concat(this.min))}}]),r}(A);function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var L=function(t){c(r,t);var e=H(r);function r(){return i(this,r),e.apply(this,arguments)}return o(r,[{key:"validate",value:function(t){if(!1===function(t){return b(t)&&t%1==0}(t))throw this.getError("value should be an integer")}}]),r}(A);function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var X=function(t){c(r,t);var e=Q(r);function r(){return i(this,r),e.apply(this,arguments)}return o(r,[{key:"validate",value:function(t){if(t%2!=0)throw this.getError("value should be an even integer")}}]),r}(A);function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var tt=function(t){c(r,t);var e=Z(r);function r(){return i(this,r),e.apply(this,arguments)}return o(r,[{key:"validate",value:function(t){if(Math.abs(t)%2!=1)throw this.getError("value should be an odd integer")}}]),r}(A);function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var rt=function(t){c(r,t);var e=et(r);function r(){var t;return i(this,r),(t=e.call(this)).type=l.number,t.isAllowString=!1,t.typeRestrict=new K,t.lastRestrict=t.typeRestrict,t}return o(r,[{key:"default",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw new Error("default arguments should not be empty");var n=e[0],i=e[1];return this.defaultConfig={ctx:i,value:n,enable:!0,strict:!1},this}},{key:"enum",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=n(C,e);return this.restricts.push(i),this.lastRestrict=i,this}},{key:"required",value:function(){return this.requiredRestrict=new $,this.lastRestrict=this.requiredRestrict,this}},{key:"allowNaN",value:function(){return this.typeRestrict.enableAllowNaN(),this}},{key:"allowInfinity",value:function(){return this.typeRestrict.enableAllowInfinity(),this}},{key:"allowString",value:function(){return this.isAllowString=!0,this}},{key:"min",value:function(t,e){var r=new J(t,e);return this.restricts.push(r),this.lastRestrict=r,this}},{key:"max",value:function(t,e){var r=new Y(t,e);return this.restricts.push(r),this.lastRestrict=r,this}},{key:"int",value:function(){var t=new L;return this.restricts.push(t),this.lastRestrict=t,this}},{key:"even",value:function(){var t=new X;return this.restricts.push(t),this.lastRestrict=t,this}},{key:"odd",value:function(){var t=new tt;return this.restricts.push(t),this.lastRestrict=t,this}},{key:"validate",value:function(t){var e=t;return this.isAllowString&&w(t)&&function(t){return!/^\s*$/.test(t)&&!m(Number(t))}(t)&&(e=Number(t)),y(f(r.prototype),"validate",this).call(this,e)}}]),r}(_);function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var it=function(t){c(r,t);var e=nt(r);function r(){return i(this,r),e.apply(this,arguments)}return o(r,[{key:"validate",value:function(t){if(!w(t)&&!x(t))throw this.getError("value should be a type of string")}}]),r}(A);function ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var ot=function(t){c(r,t);var e=ut(r);function r(t,n){var u;if(i(this,r),u=e.call(this),!1===b(t))throw new TypeError("`max` should be a type of number");return u.max=t,u.closed=!1!==n,u}return o(r,[{key:"validate",value:function(t){if(this.closed&&t.length>this.max)throw this.getError("value length should be less than or equal to ".concat(this.max));if(!this.closed&&t.length>=this.max)throw this.getError("value length should be less than ".concat(this.max));return!0}}]),r}(A);function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var at=function(t){c(r,t);var e=ct(r);function r(t,n){var u;if(i(this,r),u=e.call(this),!1===b(t))throw new TypeError("`min` should be a type of number");return u.min=t,u.closed=!1!==n,u}return o(r,[{key:"validate",value:function(t){if(this.closed&&t.length<this.min)throw this.getError("value length should be greater than or equal to ".concat(this.min));if(!this.closed&&t.length<=this.min)throw this.getError("value length should greater than ".concat(this.min));return!0}}]),r}(A);function st(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var ft=function(t){c(r,t);var e=st(r);function r(t){var n;if(i(this,r),(n=e.call(this)).pattern=null,!1==t instanceof RegExp)throw new TypeError("pattern should be an RegExp");return n.pattern=t,n}return o(r,[{key:"validate",value:function(t){if(!this.pattern.test(t))throw this.getError("value should match pattern ".concat(this.pattern.toString()))}}]),r}(A);function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var ht=function(t){c(r,t);var e=lt(r);function r(){var t;return i(this,r),(t=e.call(this)).type=l.string,t.typeRestrict=new it,t.lastRestrict=t.typeRestrict,t}return o(r,[{key:"enum",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=n(C,e);return this.restricts.push(i),this.lastRestrict=i,this}},{key:"min",value:function(t,e){var r=new at(t,e);return this.restricts.push(r),this.lastRestrict=r,this}},{key:"max",value:function(t,e){var r=new ot(t,e);return this.restricts.push(r),this.lastRestrict=r,this}},{key:"pattern",value:function(t){var e=new ft(t);return this.restricts.push(e),this.lastRestrict=e,this}}]),r}(_);function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var vt=function(t){c(r,t);var e=yt(r);function r(){return i(this,r),e.apply(this,arguments)}return o(r,[{key:"validate",value:function(t){if(!function(t){return"boolean"==typeof t}(t)&&!x(t))throw this.getError("value should be a type of boolean")}}]),r}(A);function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var dt=function(t){c(r,t);var e=pt(r);function r(){var t;return i(this,r),(t=e.call(this)).type=l,t.typeRestrict=new vt,t.lastRestrict=t.typeRestrict,t}return o(r,[{key:"enum",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=n(C,e);return this.restricts.push(i),this.lastRestrict=i,this}},{key:"default",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw new Error("default arguments should not be empty");var n=e[0],i=e[1];return this.defaultConfig={ctx:i,value:n,enable:!0,strict:!1},this}}]),r}(_);function Rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gt(t){return function(t){if(Array.isArray(t))return Rt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Rt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(t){var e=/^[_$a-z][_$a-z\d]*$/i,r="";return t.forEach((function(t){var n=t.type,i=t.key;"prop"===n&&e.test(i)?r+=r?".".concat(i):i:"prop"===n?r+="['".concat(i,"']"):"index"===n&&(r+="[".concat(i,"]"))})),r}function wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var bt=function(t){c(r,t);var e=wt(r);function r(){return i(this,r),e.apply(this,arguments)}return o(r,[{key:"validate",value:function(t){if(k(t)||x(t))return!0;throw this.getError("value should be a type of object")}}]),r}(A);function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var xt=Object.prototype.hasOwnProperty,Et=function(t){c(r,t);var e=kt(r);function r(t){var n;if(i(this,r),(n=e.call(this)).type=l.object,n.config=null,n.isStripUnknown=!1,n.isAllowUnknown=!1,n.typeRestrict=new bt,n.lastRestrict=n.typeRestrict,k(t)){var u={};Object.keys(t).forEach((function(e){t[e]instanceof _&&(u[e]=t[e])})),n.config=u}return n}return o(r,[{key:"stripUnknown",value:function(){return this.isStripUnknown=!0,this}},{key:"allowUnknown",value:function(){return this.isAllowUnknown=!0,this}},{key:"validate",value:function(t,e,r){if(!this.requiredRestrict&&x(t))return this.getReturnValue(t);try{return this.checkType(t),this.checkRequired(t),this.checkRestricts(t),this.getReturnValue(this.validateByRecurse(t,e===h?r:void 0))}catch(t){this.throwErrorWithoutKeyChainIfNeeded(t);var n=this.getErrorForAll(t.message);if(n)throw n;throw t}}},{key:"validateByRecurse",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null===this.config)return t;var n={},i=r,u=Object.keys(this.config);return u.forEach((function(r){e.config[r].requiredRestrict||xt.call(t,r)?n[r]=e.validateObjectByKey(t,{key:r,chain:i}):e.setResultWhenDefaultEnabled({key:r,result:n})})),this.isStripUnknown||Object.keys(t).forEach((function(r){var i=!1===u.includes(r);if(i&&!e.isAllowUnknown)throw new d("the key `".concat(r,"` is not allowed"));i&&(n[r]=t[r])})),n}},{key:"validateObjectByKey",value:function(t,e){var r=e.key,n=e.chain,i=this.config[r],u={key:r,type:"prop"};try{return i.validate(t[r],h,[].concat(gt(n),[u]))}catch(t){this.throwErrorWithoutKeyChainIfNeeded(t);var o='"'.concat(mt([].concat(gt(n),[u])),'": ');throw new d("".concat(o).concat(t.message),{final:!0})}}},{key:"setResultWhenDefaultEnabled",value:function(t){var e=t.key,r=t.result,n=this.config[e];n.defaultConfig.enable&&(r[e]=n.getDefaultReturnValue(void 0))}}]),r}(_);function Dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var St=function(t){c(r,t);var e=Dt(r);function r(){return i(this,r),e.apply(this,arguments)}return o(r,[{key:"validate",value:function(t){if(!function(t){return"Array"===g(t)}(t)&&!x(t))throw this.getError("value should be a type of array")}}]),r}(A);function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var Pt=function(t){c(r,t);var e=At(r);function r(t){var n;return i(this,r),(n=e.call(this)).type=l.array,n.itemSchema=null,n.typeRestrict=new St,n.lastRestrict=n.typeRestrict,t instanceof _&&(n.itemSchema=t),n}return o(r,[{key:"min",value:function(t,e){var r=new at(t,e);return this.restricts.push(r),this.lastRestrict=r,this}},{key:"max",value:function(t,e){var r=new ot(t,e);return this.restricts.push(r),this.lastRestrict=r,this}},{key:"validate",value:function(t,e,r){if(!this.requiredRestrict&&x(t))return this.getReturnValue(t);try{return this.checkType(t),this.checkRequired(t),this.checkRestricts(t),this.getReturnValue(this.validateByRecurse(t,e===h?r:void 0))}catch(t){this.throwErrorWithoutKeyChainIfNeeded(t);var n=this.getErrorForAll(t.message);if(n)throw n;throw t}}},{key:"validateByRecurse",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=r,i=this.itemSchema;return i?t.map((function(r,i){return e.validateItem({index:i,array:t,chain:n})})):gt(t)}},{key:"validateItem",value:function(t){var e=t.index,r=t.array,n=t.chain,i=this.itemSchema;try{return i.validate(r[e],h,[].concat(gt(n),[{type:"index",key:e}]))}catch(t){this.throwErrorWithoutKeyChainIfNeeded(t);var u={type:"index",key:e},o='"'.concat(mt([].concat(gt(n),[u])),'": ');throw new d("".concat(o).concat(t.message),{final:!0})}}}]),r}(_);function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var Nt=function(t){c(r,t);var e=Ot(r);function r(){var t;i(this,r),(t=e.call(this)).schemas=null;for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];if(0===u.length)throw new RangeError("mixed arguments should not be empty");return t.schemas=u,t}return o(r,[{key:"validate",value:function(t){for(var e=null,r=0;r<this.schemas.length;r+=1)try{return this.schemas[r].validate(t)}catch(t){e=t}throw e}}]),r}(_);function jt(){return new U}function qt(){return new rt}function Ct(){return new ht}function It(){return new dt}function Tt(t){return new Et(t)}function Vt(t){return new Pt(t)}function Ft(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n(Nt,e)}var _t={any:jt,number:qt,string:Ct,boolean:It,object:Tt,array:Vt,mixed:Ft};t.any=jt,t.array=Vt,t.boolean=It,t.default=_t,t.mixed=Ft,t.number=qt,t.object=Tt,t.string=Ct,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=racoon.min.js.map
